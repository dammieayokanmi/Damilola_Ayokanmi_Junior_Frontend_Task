{"ast":null,"code":"var _jsxFileName = \"/Users/uxxxr/Desktop/projects/me/scandiweb/junior-react-interface/src/components/SingleProduct.js\";\n// import PropTypes from 'prop-types'\nimport React, { Component } from 'react';\nimport { gql } from '@apollo/client';\nimport loading from 'src/assets/images/loading.gif';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wrapper = styled.div`\n  .loading {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: calc(100vh - 130px);\n    img {\n      width: 100px;\n    }\n  }\n\n  .descriptions{\n    display:flex ;\n    flex-direction: column;\n  }\n  .attribute-name {\n    font-weight: 600;\n    margin-bottom: 10px;\n  }\n  .boxes {\n    display: flex;\n    gap: 6px;\n    list-style-type: none;\n    text-transform: uppercase;\n\n    .box {\n      border: 1px solid ${props => props.theme.colors.text_01};\n      width: 57px;\n    height: 36px;\n      text-align: center;\n      font-size: 14px;\n      padding: 7px;\n      &.active {\n        background-color: ${props => props.theme.colors.dark};\n        transition: 0.3s;\n        color: ${props => props.theme.colors.white};\n      }\n    }\n    .color {\n      width: 23px;\n      height: 23px;\n      min-width: auto;\n    }\n  }\n`;\n_c = Wrapper;\nexport class SingleProduct extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      const searchParams = new URLSearchParams(window.location.search);\n      const paramsObj = Object.fromEntries(searchParams);\n      this.props.client.query({\n        query: gql`\n        {\n          product(id: \"${paramsObj.id}\") {\n            id\n            name\n            inStock\n            gallery\n            description\n            category\n            attributes {\n              id\n              name\n              type\n              items {\n                displayValue\n                value\n                id\n              }\n            }\n            prices {\n              currency {\n                label\n                symbol\n              }\n              amount\n            }\n        \n            brand\n          }\n        }`\n      }).then(response => {\n        this.setState({\n          singleProduct: response.data.product,\n          isLoading: false\n        });\n      });\n    };\n\n    this.state = {\n      singleProduct: {},\n      isLoading: true\n    };\n  }\n\n  render() {\n    const {\n      state: {\n        isLoading,\n        singleProduct\n      },\n      props: {\n        activeCurrencyLabel\n      }\n    } = this; // const filterCurrentAmount = singleProduct?.prices.find((obj) => {\n    //   return obj.currency.label === activeCurrencyLabel\n    // })\n    // const allColors = singleProduct.attributes.find((attribute) => attribute.name === 'Color')\n    // const allCapacities = singleProduct?.attributes.map((attribute) => attribute.id === 'Capacity')\n\n    console.log(singleProduct);\n    return /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: loading,\n          alt: \"loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"details\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text\",\n            children: singleProduct.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"descriptions\",\n            children: singleProduct.attributes.map(attribute => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"attributes\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"attribute-name\",\n                  children: [attribute.id, \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"attribute-brancd\",\n                  children: [attribute.brand, \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"boxes\",\n                  children: attribute.items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: ` box ${item.value === 'S' ? 'active' : ''}`,\n                    children: item.value\n                  }, item.value, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 21\n                }, this)]\n              }, attribute.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nSingleProduct.propTypes = {\n  product: PropTypes.object.isRequired,\n  activeCurrencyLabel: PropTypes.string,\n  cartFullPageStyles: PropTypes.bool\n};\nexport default SingleProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"Wrapper\");","map":{"version":3,"names":["React","Component","gql","loading","styled","PropTypes","Wrapper","div","props","theme","colors","text_01","dark","white","SingleProduct","constructor","componentDidMount","searchParams","URLSearchParams","window","location","search","paramsObj","Object","fromEntries","client","query","id","then","response","setState","singleProduct","data","product","isLoading","state","render","activeCurrencyLabel","console","log","name","attributes","map","attribute","brand","items","item","value","propTypes","object","isRequired","string","cartFullPageStyles","bool"],"sources":["/Users/uxxxr/Desktop/projects/me/scandiweb/junior-react-interface/src/components/SingleProduct.js"],"sourcesContent":["// import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { gql } from '@apollo/client'\nimport loading from 'src/assets/images/loading.gif'\nimport styled from 'styled-components'\nimport PropTypes from 'prop-types'\n\nconst Wrapper = styled.div`\n  .loading {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: calc(100vh - 130px);\n    img {\n      width: 100px;\n    }\n  }\n\n  .descriptions{\n    display:flex ;\n    flex-direction: column;\n  }\n  .attribute-name {\n    font-weight: 600;\n    margin-bottom: 10px;\n  }\n  .boxes {\n    display: flex;\n    gap: 6px;\n    list-style-type: none;\n    text-transform: uppercase;\n\n    .box {\n      border: 1px solid ${(props) => props.theme.colors.text_01};\n      width: 57px;\n    height: 36px;\n      text-align: center;\n      font-size: 14px;\n      padding: 7px;\n      &.active {\n        background-color: ${(props) => props.theme.colors.dark};\n        transition: 0.3s;\n        color: ${(props) => props.theme.colors.white};\n      }\n    }\n    .color {\n      width: 23px;\n      height: 23px;\n      min-width: auto;\n    }\n  }\n`\nexport class SingleProduct extends Component {\n  static propTypes = {\n    product: PropTypes.object.isRequired,\n    activeCurrencyLabel: PropTypes.string,\n    cartFullPageStyles: PropTypes.bool,\n  }\n  constructor(props) {\n    super(props)\n    this.state = {\n      singleProduct: {},\n      isLoading: true,\n    }\n  }\n\n  componentDidMount = () => {\n    const searchParams = new URLSearchParams(window.location.search)\n    const paramsObj = Object.fromEntries(searchParams)\n\n    this.props.client\n      .query({\n        query: gql`\n        {\n          product(id: \"${paramsObj.id}\") {\n            id\n            name\n            inStock\n            gallery\n            description\n            category\n            attributes {\n              id\n              name\n              type\n              items {\n                displayValue\n                value\n                id\n              }\n            }\n            prices {\n              currency {\n                label\n                symbol\n              }\n              amount\n            }\n        \n            brand\n          }\n        }`,\n      })\n      .then((response) => {\n        this.setState({ singleProduct: response.data.product, isLoading: false })\n      })\n  }\n\n  render() {\n    const {\n      state: { isLoading, singleProduct },\n      props: { activeCurrencyLabel },\n    } = this\n\n    // const filterCurrentAmount = singleProduct?.prices.find((obj) => {\n    //   return obj.currency.label === activeCurrencyLabel\n    // })\n    // const allColors = singleProduct.attributes.find((attribute) => attribute.name === 'Color')\n\n    // const allCapacities = singleProduct?.attributes.map((attribute) => attribute.id === 'Capacity')\n\n    console.log(singleProduct)\n\n    return (\n      <Wrapper>\n        {isLoading ? (\n          <div className=\"loading\">\n            <img src={loading} alt=\"loading...\" />\n          </div>\n        ) : (\n          <div>\n            <div className=\"details\">\n              <p className=\"text\">{singleProduct.name}</p>\n<div className=\"descriptions\">\n\n{singleProduct.attributes.map((attribute) => {\n                return (\n                  <div key={attribute.id} className=\"attributes\">\n                    <p className=\"attribute-name\">{attribute.id}:</p>\n                    <p className=\"attribute-brancd\">{attribute.brand}:</p>\n                    <ul className=\"boxes\">\n                      {attribute.items.map((item) => (\n                        <li key={item.value} className={` box ${item.value === 'S' ? 'active' : ''}`}>\n                          {item.value}\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )\n              })}\n</div>\n              {/* <div className=\"price\">\n              {' '}\n              <span className=\"text\">{filterCurrentAmount.currency.symbol}</span>\n              {singleProduct.prices.some(\n                (currentLabel) => currentLabel.currency.label === activeCurrencyLabel\n              ) && <span className=\"text\">{filterCurrentAmount.amount}</span>}\n            </div>\n            <div className=\"capacities\">\n              <p className=\"text\">{allCapacities.id}:</p>\n              <div className=\"boxes\">\n                {allCapacities?.items.map((capacity) => {\n                  return (\n                    <p key={capacity.value } className={` text box ${capacity.value === '1T' ? 'active' : ''}`}>\n                      {capacity.value}\n                    </p>\n                  )\n                })}\n              </div> \n            </div>*/}\n              {/* <div className=\"colors\">\n              <p className=\"text\">{allColors?.id}:</p>\n              <div className=\"boxes\">\n                {allColors?.items.map((color) => {\n                  return <p key={color.value} style={{ backgroundColor: color.value }} className=\"box color\"></p>\n                })}\n              </div>\n            </div> */}\n            </div>\n          </div>\n        )}\n      </Wrapper>\n    )\n  }\n}\n\nexport default SingleProduct\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}