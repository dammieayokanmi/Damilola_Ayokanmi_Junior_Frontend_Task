{"ast":null,"code":"var _jsxFileName = \"/Users/uxxxr/Desktop/projects/me/scandiweb/junior-react-interface/src/components/SingleProduct.js\";\n// import PropTypes from 'prop-types'\nimport React, { Component } from 'react';\nimport { gql } from '@apollo/client';\nimport loading from 'src/assets/images/loading.gif';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wrapper = styled.div`\n  .loading {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: calc(100vh - 130px);\n    img {\n      width: 100px;\n    }\n  }\n`;\n_c = Wrapper;\nexport class SingleProduct extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      const searchParams = new URLSearchParams(window.location.search);\n      const paramsObj = Object.fromEntries(searchParams);\n      this.props.client.query({\n        query: gql`\n        {\n          product(id: \"${paramsObj.id}\") {\n            id\n            name\n            inStock\n            gallery\n            description\n            category\n            attributes {\n              id\n              name\n              type\n              items {\n                displayValue\n                value\n                id\n              }\n            }\n            prices {\n              currency {\n                label\n                symbol\n              }\n              amount\n            }\n        \n            brand\n          }\n        }`\n      }).then(response => {\n        this.setState({\n          singleProduct: response.data.product,\n          isLoading: false\n        });\n      });\n    };\n\n    this.state = {\n      singleProduct: {},\n      isLoading: true\n    };\n  }\n\n  render() {\n    const {\n      state: {\n        isLoading,\n        singleProduct\n      },\n      props: {\n        product,\n        activeCurrencyLabel,\n        cartFullPageStyles = false\n      }\n    } = this;\n    console.log(singleProduct === null || singleProduct === void 0 ? void 0 : singleProduct.name);\n    const filterCurrentAmount = singleProduct === null || singleProduct === void 0 ? void 0 : singleProduct.prices.find(obj => {\n      return obj.currency.label === activeCurrencyLabel;\n    });\n    const allColors = singleProduct.attributes.find(attribute => attribute.name === 'Color');\n    const allCapacities = singleProduct.attributes.find(attribute => attribute.id === 'Capacity');\n    return /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: loading,\n          alt: \"loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"details\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text\",\n            children: singleProduct.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price\",\n            children: [' ', /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text\",\n              children: filterCurrentAmount.currency.symbol\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), singleProduct.prices.some(currentLabel => currentLabel.currency.label === activeCurrencyLabel) && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text\",\n              children: filterCurrentAmount.amount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 20\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"capacities\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text\",\n              children: [allCapacities.id, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"boxes\",\n              children: allCapacities === null || allCapacities === void 0 ? void 0 : allCapacities.items.map(capacity => {\n                return /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: ` text box ${capacity.value === '1T' ? 'active' : ''}`,\n                  children: capacity.value\n                }, capacity.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"colors\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text\",\n              children: [allColors === null || allColors === void 0 ? void 0 : allColors.id, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"boxes\",\n              children: allColors === null || allColors === void 0 ? void 0 : allColors.items.map(color => {\n                return /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    backgroundColor: color.value\n                  },\n                  className: \"box color\"\n                }, color.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 26\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nexport default SingleProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"Wrapper\");","map":{"version":3,"names":["React","Component","gql","loading","styled","Wrapper","div","SingleProduct","constructor","props","componentDidMount","searchParams","URLSearchParams","window","location","search","paramsObj","Object","fromEntries","client","query","id","then","response","setState","singleProduct","data","product","isLoading","state","render","activeCurrencyLabel","cartFullPageStyles","console","log","name","filterCurrentAmount","prices","find","obj","currency","label","allColors","attributes","attribute","allCapacities","symbol","some","currentLabel","amount","items","map","capacity","value","color","backgroundColor"],"sources":["/Users/uxxxr/Desktop/projects/me/scandiweb/junior-react-interface/src/components/SingleProduct.js"],"sourcesContent":["// import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { gql } from '@apollo/client'\nimport loading from 'src/assets/images/loading.gif'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  .loading {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: calc(100vh - 130px);\n    img {\n      width: 100px;\n    }\n  }\n`\nexport class SingleProduct extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      singleProduct: {},\n      isLoading: true,\n    }\n  }\n  componentDidMount = () => {\n    const searchParams = new URLSearchParams(window.location.search)\n    const paramsObj = Object.fromEntries(searchParams)\n\n    this.props.client\n      .query({\n        query: gql`\n        {\n          product(id: \"${paramsObj.id}\") {\n            id\n            name\n            inStock\n            gallery\n            description\n            category\n            attributes {\n              id\n              name\n              type\n              items {\n                displayValue\n                value\n                id\n              }\n            }\n            prices {\n              currency {\n                label\n                symbol\n              }\n              amount\n            }\n        \n            brand\n          }\n        }`,\n      })\n      .then((response) => {\n        this.setState({ singleProduct: response.data.product, isLoading: false })\n      })\n  }\n\n  render() {\n    const {\n      state: { isLoading, singleProduct },\n      props: { product, activeCurrencyLabel, cartFullPageStyles = false },\n\n    } = this\n\n    console.log(singleProduct?.name)\n\n    const filterCurrentAmount = singleProduct?.prices.find((obj) => {\n      return obj.currency.label === activeCurrencyLabel\n    })\n    const allColors = singleProduct.attributes.find((attribute) => attribute.name === 'Color')\n\n    const allCapacities = singleProduct.attributes.find((attribute) => attribute.id === 'Capacity')\n    return (\n      <Wrapper>\n        {isLoading ? (\n          <div className=\"loading\">\n            <img src={loading} alt=\"loading...\" />\n          </div>\n        ) : (\n          <div>\n              <div className=\"details\">\n            <p className=\"text\">{singleProduct.name}</p>\n            <div className=\"price\">\n              {' '}\n              <span className=\"text\">{filterCurrentAmount.currency.symbol}</span>\n              {singleProduct.prices.some(\n                (currentLabel) => currentLabel.currency.label === activeCurrencyLabel\n              ) && <span className=\"text\">{filterCurrentAmount.amount}</span>}\n            </div>\n            <div className=\"capacities\">\n              <p className=\"text\">{allCapacities.id}:</p>\n              <div className=\"boxes\">\n                {allCapacities?.items.map((capacity) => {\n                  return (\n                    <p key={capacity.value } className={` text box ${capacity.value === '1T' ? 'active' : ''}`}>\n                      {capacity.value}\n                    </p>\n                  )\n                })}\n              </div>\n            </div>\n            <div className=\"colors\">\n              <p className=\"text\">{allColors?.id}:</p>\n              <div className=\"boxes\">\n                {allColors?.items.map((color) => {\n                  return <p key={color.value} style={{ backgroundColor: color.value }} className=\"box color\"></p>\n                })}\n              </div>\n            </div>\n          </div>\n            </div>\n        )}\n      </Wrapper>\n    )\n  }\n}\n\nexport default SingleProduct\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}